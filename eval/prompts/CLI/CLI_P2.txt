You are operating inside a Docker container with a mounted repository at /workspace.
Goal: Generate standalone pytest tests for multiple Requests functions by reading the source code directly from the repository.

Target functions (located across utils.py, auth.py, and sessions.py):
1. _basic_auth_str
2. _parse_content_type_header
3. get_auth_from_url
4. HTTPDigestAuth
5. prepend_scheme_if_needed
6. rebuild_auth
7. resolve_redirects
8. select_proxy
9. should_strip_auth
10. unquote_header_value


CRITICAL RULES:
- Only create new test files under: eval/tests/generated_tests/P2/
- Do NOT modify, delete, or rename any existing files anywhere in the repo.
- Do NOT touch /workspace/venv and do NOT run pip install or any dependency installation.
- It is allowed to read source files under: requests/src/requests/
- Tests must be deterministic and must NOT perform real network calls.


Few-Shot Examples:
- In the requests library, there is an existing test suite. Use them as examples of test structure and scenario selection. 
- Do not copy these tests verbatim.
- Here is the list of the test files you should be using as exaples:
   1. _basic_auth_str
       * test_set_basicauth in requests/tests/test_requests.py
       * test_basic_auth_str_is_always_native in requests/tests/test_requests.py

   2. _parse_content_type_header
       * test__parse_content_type_header in requests/tests/test_utils.py

   3. get_auth_from_url
       * test_get_auth_from_url in requests/tests/test_utils.py

   4. HTTPDigestAuth
       * test_DIGEST_HTTP_200_OK_GET in requests/tests/test_requests.py
       * test_DIGEST_AUTH_RETURNS_COOKIE in requests/tests/test_requests.py
       * test_DIGEST_AUTH_SETS_SESSION_COOKIES in requests/tests/test_requests.py
       * test_DIGEST_STREAM in requests/tests/test_requests.py
       * test_DIGESTAUTH_WRONG_HTTP_401_GET in requests/tests/test_requests.py
       * test_DIGESTAUTH_QUOTES_QOP_VALUE in requests/tests/test_requests.py

   5. prepend_scheme_if_needed
       * test_prepend_scheme_if_needed in requests/tests/test_utils.py

   6. rebuild_auth
       * test_auth_is_stripped_on_http_downgrade in requests/tests/test_requests.py
       * test_auth_is_retained_for_redirect_on_host in requests/tests/test_requests.py

   7. resolve_redirects
       * test_HTTP_302_ALLOW_REDIRECT_GET in requests/tests/test_requests.py
       * test_HTTP_307_ALLOW_REDIRECT_POST in requests/tests/test_requests.py
       * test_HTTP_307_ALLOW_REDIRECT_POST_WITH_SEEKABLE in requests/tests/test_requests.py
       * test_HTTP_302_TOO_MANY_REDIRECTS in requests/tests/test_requests.py
       * test_fragment_maintained_on_redirect in requests/tests/test_requests.py
       * test_HTTP_200_OK_GET_WITH_PARAMS in requests/tests/test_requests.py
       * test_manual_redirect_with_partial_body_read in requests/tests/test_requests.py
       * test_redirect_with_wrong_gzipped_header in requests/tests/test_requests.py

   8. select_proxy
       * test_select_proxies in requests/tests/test_utils.py

   9. should_strip_auth
       * test_should_strip_auth_host_change in requests/tests/test_requests.py
       * test_should_strip_auth_http_downgrade in requests/tests/test_requests.py
       * test_should_strip_auth_https_upgrade in requests/tests/test_requests.py
       * test_should_strip_auth_port_change in requests/tests/test_requests.py
       * test_should_strip_auth_default_port in requests/tests/test_requests.py

   10. unquote_header_value
       * test_valid in requests/tests/test_utils.py
       * test_is_filename in requests/tests/test_utils.py



For EACH function F in the list:
- Locate and read the implementation of F in requests/src/requests/  Inspect direct dependencies used by F as needed.
- Create the directory (if missing): eval/tests/generated_tests/P2/F/
- BEFORE writing any test code for F, perform and OUTPUT a short static analysis for F:
    -List every conditional branch (if/elif/else) that matters for behavior.
    -List every exception that can be raised or handled (raise, try/except).
    -List every loop condition / termination behavior.
    -For each item, describe one concrete input/state that would trigger it. Keep this analysis concise (bullet points).
- Generate standalone pytest files named exactly: 
eval/tests/generated_tests/P2/F/test_F_1.py
…
eval/tests/generated_tests/P2/F/test_F_10.py


Each test file MUST:
- Import the real function under test (e.g., from requests.utils import F)
- Define exactly ONE test function (def test_...)
- Test exactly ONE scenario (avoid multiple independent cases in one file)
- Avoid real network calls
- Be runnable independently (no reliance on other generated tests)
- Prefer real Requests objects created via public APIs; mock only external side effects

Descriptive context (NOT strict requirements):
- The human-written test suite for the selected subset of the Requests functions contains 72 tests total (≈7 tests per function on average, unevenly distributed).
- When executed in isolation, these human-written tests achieve approximately 58% coverage measured against the entire library.
- Human-written tests cover on average ~19 executable lines per test.
These values are provided for calibration only.

Proceed now. 